# 字符串的调整与替换
[完整代码]()

**题目：**

给定一个字符类型数组chas[]，chas右半区全是空字符，左半区不含有空字符。现在想将左半区中所有的空格字符替换为"%20"，假设chas[]右半区足够大，可以满足替换所需要的空间，请完成替换函数。

**举例：**

如果把chas的左半区看做字符串为"a b  c"，假设chas的右半区足够大，替换后chas的左半区为"a%20b%20%20c"

**要求：**

时间复杂度O(N)，额外空间复杂度O(1).

**补充题目：**

给定字符串s，只含有数字和'\*'字符，现在想把所有的'\*'挪到字符串的左边，所有的数字挪到字符串的右边，请完成调整函数。

**举例：**

s = "12**345"调整后为"**12345"

**要求：**

1. 调整函数时间复杂度O(N)，空间复杂度O(1).
2. 不得改变数字字符从左到右的顺序。
   
**解析：**

对于原问题，
1. 先遍历一遍左半区（遇到空字符就遍历结束），得到两个信息，一个是左半区的长度len，一个是左半区的空格字符的个数num。那么我们就知道在替换之后的字符长度应该为len+2*num.
2. 逆序复制。从左半区的最后一个字符开始逆序遍历，同时将字符复制到新长度最后的位置。
   1. 若是遇到空格，就按照02%放进去
   2. 若是非空格就直接放进去

对于补充问题：

同样是逆序复制的思想。从最后一个字符往前遍历，遇到非\*字符就直接放进去，遇到\*就跳过，最后再把前面空着的全部设置为*即可。

```c++
class Solution{
public:
    void replace(vector<char> &chas)
    {
        if(chas.empty() || chas[0]=='\0') return;
        int len = 0;//左半区的长度
        int num = 0; //左半区的空格数
        int n = chas.size();
        while(chas[len]!='\0')
        {
            if(chas[len]==' ') num++;//先检查是否是空格再对len++
            len++;
        }
        int i = len+num*2-1;
        int j = len-1;
        while(i>=0)
        {
            if(chas[j]==' ')
            {
                chas[i--] = '0';
                chas[i--] = '2';
                chas[i--] = '%';
                j--;
            }
            else chas[i--] = chas[j--];
        }
    }


    void modify(string &s)
    {
        if(s.empty() || s.size()==1) return;
        int n = s.size();
        int i = n-1;//处理到哪个位置
        int j = n-1; //复制到哪个位置
        while(i>=0)
        {
            if(s[i]!='*') 
            {
                s[j--] = s[i--];
            }
            else i--;
        }
        while(j>=0)
        {
            s[j--] = '*';
        }
    }
};
```